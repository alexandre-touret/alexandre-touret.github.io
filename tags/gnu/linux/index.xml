<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>GNU/Linux - Tag - Alexandre Touret's Blog</title><link>http://blog.touret.info/tags/gnu/linux/</link><description>GNU/Linux - Tag - Alexandre Touret's Blog</description><generator>Hugo -- gohugo.io</generator><language>en</language><copyright>This work is licensed under a Creative Commons Attribution 4.0 International License.</copyright><atom:link href="http://blog.touret.info/tags/gnu/linux/" rel="self" type="application/rss+xml"/><item><title>Moving on to Fish shell (and beyond)</title><link>http://blog.touret.info/2023/07/21/fish-shell/</link><pubDate>Fri, 21 Jul 2023 08:00:00 +0000</pubDate><author><name>Alexandre Touret</name></author><guid>http://blog.touret.info/2023/07/21/fish-shell/</guid><description><![CDATA[<div class="featured-image">
                <img src="/assets/images/2023/07/jakub-kapusnak-vLQzopDRSNI-unsplash.webp" referrerpolicy="no-referrer">
            </div><p>While chatting with one of <a href="https://twitter.com/foxlegend" target="_blank" rel="noopener noreferrer">my WL colleague</a>, I stumbled upon <a href="https://fishshell.com/" target="_blank" rel="noopener noreferrer">Fish shell</a>.
I immediately liked its autocompletion and extensibility mechanisms.
After many years using <a href="https://www.gnu.org/software/bash/" target="_blank" rel="noopener noreferrer">BASH</a> and <a href="https://zsh.sourceforge.io/" target="_blank" rel="noopener noreferrer">ZSH</a>, I therefore decided to move on to this new <a href="https://en.wikipedia.org/wiki/Unix_shell" target="_blank" rel="noopener noreferrer">shell</a>.</p>
<p>Unlike the others, it&rsquo;s not <a href="https://fishshell.com/docs/current/fish_for_bash_users.html#fish-for-bash-users" target="_blank" rel="noopener noreferrer">POSIX-compatible</a>.</p>
<p>Furthermore, to get (<em>at least</em>) the same functionalities as <a href="https://github.com/ohmyzsh/ohmyzsh" target="_blank" rel="noopener noreferrer">OhMyZsh</a>, I chose to install <a href="https://starship.rs/" target="_blank" rel="noopener noreferrer">StarShip</a>.</p>
<p>I will then describe how I moved on and updated my existing tools such as <a href="https://sdkman.io/" target="_blank" rel="noopener noreferrer">SdkMan</a>.</p>
<h2 id="fish-installation" class="headerLink">
    <a href="#fish-installation" class="header-mark"></a>1 FISH Installation</h2><div class="details admonition info open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-info-circle fa-fw"></i>OS<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">I applied these commands on both <a href="http://ubuntu.com/" target="_blank" rel="noopener noreferrer">Ubuntu20</a>/<a href="https://learn.microsoft.com/fr-fr/windows/wsl/install" target="_blank" rel="noopener noreferrer">WSL2</a> and <a href="https://linuxmint.com/" target="_blank" rel="noopener noreferrer">Linux Mint</a>.</div>
        </div>
    </div>
<p>To install it, run this command:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo apt install fish
</span></span></code></pre></td></tr></table>
</div>
</div><p>You must also use a font available on the <a href="https://www.nerdfonts.com/font-downloads" target="_blank" rel="noopener noreferrer">NerdFonts website</a>.
By the way, you can also use the fonts available through your package manager.</p>
<p>For instance, I chose using <a href="https://github.com/ryanoasis/nerd-fonts/releases/download/v3.0.2/JetBrainsMono.zip" target="_blank" rel="noopener noreferrer">JetBrains Mono</a></p>
<p>After downloading it, you can reload your font cache running this command:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">fc-cache -fv
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="starship-installation" class="headerLink">
    <a href="#starship-installation" class="header-mark"></a>2 StarShip installation</h2><p>I ran this command:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">curl -sS https://starship.rs/install.sh | sh
</span></span></code></pre></td></tr></table>
</div>
</div><div class="details admonition info open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-info-circle fa-fw"></i>How to update StarShip<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">To update StarShip, you must use the same command.</div>
        </div>
    </div>
<p>I also added the following command at the end of <code>~/.config/fish/config.fish</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">starship init fish <span class="p">|</span> <span class="nb">source</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Due to some WSL2 incompatibilities, I also chose to use <a href="https://starship.rs/presets/plain-text.html" target="_blank" rel="noopener noreferrer">the plain text presets</a> running this command:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">starship preset plain-text-symbols -o ~/.config/starship.toml
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="sdkman-update" class="headerLink">
    <a href="#sdkman-update" class="header-mark"></a>3 SDKMAN update</h2><p>At this stage, SdkMan didn&rsquo;t work at all. To put it alive again, I had to install <a href="https://github.com/jorgebucaran/fisher" target="_blank" rel="noopener noreferrer">Fisher</a> and a <a href="https://github.com/reitzig/sdkman-for-fish" target="_blank" rel="noopener noreferrer">SdkMan for fish plugin</a>.</p>
<h3 id="fisher-install" class="headerLink">
    <a href="#fisher-install" class="header-mark"></a>3.1 Fisher install</h3><p>Run this command:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">curl -sL https://raw.githubusercontent.com/jorgebucaran/fisher/main/functions/fisher.fish | source &amp;&amp; fisher install jorgebucaran/fisher
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="sdkman-for-fish-plugin" class="headerLink">
    <a href="#sdkman-for-fish-plugin" class="header-mark"></a>3.2 SdkMan for fish plugin</h3><p>Run this command:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">fisher install reitzig/sdkman-for-fish@v2.0.0
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="run-sdkman" class="headerLink">
    <a href="#run-sdkman" class="header-mark"></a>3.3 Run SdkMan</h3><p>Run this command:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sdk ug
</span></span></code></pre></td></tr></table>
</div>
</div><p>Say yes and restart a shell.
Now it should work.</p>
<h2 id="nvm" class="headerLink">
    <a href="#nvm" class="header-mark"></a>4 NVM</h2><p>I had the same issue with <a href="https://github.com/nvm-sh/nvm" target="_blank" rel="noopener noreferrer">NVM</a>.</p>
<p>I then installed another plugin with Fisher:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">fisher install jorgebucaran/nvm.fish
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="gnupg" class="headerLink">
    <a href="#gnupg" class="header-mark"></a>5 GnuPG</h2><p>I use <a href="https://blog.touret.info/2019/08/09/verifier-les-commit-git-avec-gpg/" target="_blank" rel="noopener noreferrer">GnuPG for signing my GIT commits</a>.
Installing Fisher broke my setup.</p>
<p>I then added this new configuration file <code>$HOME/.config/fish/conf.d/config_gpgagent.fish</code> with the following content:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">set -gx GPG_TTY /dev/pts/0
</span></span></code></pre></td></tr></table>
</div>
</div><p>To activate it, restart your shell (again).</p>
<h2 id="conclusion" class="headerLink">
    <a href="#conclusion" class="header-mark"></a>6 Conclusion</h2><p>I can now use FISH for my daily job.
As I said first, this article is only a reminder for my next setups (aka when I will broke my GNU/Linux boxes and try to restore them).</p>
<p>Hope it will help you!</p>
]]></description></item><item><title>Ma configuration CYGWIN</title><link>http://blog.touret.info/2018/02/16/ma-configuration-cygwin/</link><pubDate>Fri, 16 Feb 2018 09:42:24 +0100</pubDate><author><name>Alexandre Touret</name></author><guid>http://blog.touret.info/2018/02/16/ma-configuration-cygwin/</guid><description><![CDATA[<div class="featured-image">
                <img src="/assets/images/2018/02/2000px-cygwin_logo-svg.png" referrerpolicy="no-referrer">
            </div><p>Dans la série, <a href="http://blog.touret.info/2018/02/10/ma-configuration-debian-9/" target="_blank" rel="noopener noreferrer">j&rsquo;essaye de sauvegarder toutes mes configurations</a>, voici ce que j&rsquo;ai fait pour configurer correctement <a href="https://cygwin.com/" target="_blank" rel="noopener noreferrer">cygwin</a>.</p>
<p>Pour ceux qui ne connaissent pas ou qui n&rsquo;ont pas la chance d&rsquo;utiliser windows au travail, <a href="https://cygwin.com/" target="_blank" rel="noopener noreferrer">cygwin</a> est un shell avec tous les outils GNU.</p>
<p>En attendant <a href="https://www.howtogeek.com/249966/how-to-install-and-use-the-linux-bash-shell-on-windows-10/" target="_blank" rel="noopener noreferrer">d&rsquo;avoir windows 10 ( au travail ) et un BASH intégré</a>, il n&rsquo;y a pas mieux. Du moins à mon humble avis.</p>
<h2 id="git" class="headerLink">
    <a href="#git" class="header-mark"></a>1 GIT</h2><h3 id="complétion" class="headerLink">
    <a href="#compl%c3%a9tion" class="header-mark"></a>1.1 Complétion</h3><p>On a besoin des fichiers suivants</p>
<ul>
<li><a href="https://github.com/git/git/blob/master/contrib/completion/git-completion.bash" target="_blank" rel="noopener noreferrer">git-completion.bash</a></li>
<li><a href="https://github.com/git/git/blob/master/contrib/completion/git-prompt.sh" target="_blank" rel="noopener noreferrer">git-prompt.sh</a></li>
</ul>
<p>Je les ai téléchargé et placé dans le répertoire $HOME.</p>
<h3 id="activation-de-la-configuration-et-affichage-de-la-branche-en-cours-dans-le-prompt" class="headerLink">
    <a href="#activation-de-la-configuration-et-affichage-de-la-branche-en-cours-dans-le-prompt" class="header-mark"></a>1.2 Activation de la configuration et affichage de la branche en cours dans le prompt</h3><p>J&rsquo;ai activé la configuration git en exécutant les scripts précédemment téléchargés.</p>
<p>Voici la personnalisation que j&rsquo;ai paramétré dans la variable d&rsquo;environnement PS1:</p>
<script src="https://gist.github.com/alexandre-touret/d4b570813bb1b7bb44a393e69660827e.js"></script>
<p>J&rsquo; ai également activé des propriétés qui étaient en commentaire dans ce fichier. Je ne les ai pas listée pour ne pas trop surcharger l&rsquo;article 🙂</p>
<h3 id="configuration-nom-et-sécurité" class="headerLink">
    <a href="#configuration-nom-et-s%c3%a9curit%c3%a9" class="header-mark"></a>1.3 Configuration Nom et sécurité</h3><script src="https://gist.github.com/alexandre-touret/4ef7484bc00bf607e3c8e28c1d53afba.js"></script>
<h2 id="vim" class="headerLink">
    <a href="#vim" class="header-mark"></a>2 VIM</h2><p>Que serait un prompt sans vim ?</p>
<p>J&rsquo;ai installé une suite de plugin : <a href="https://github.com/amix/vimrc" target="_blank" rel="noopener noreferrer">The ultimate vimrc</a>. Il faut cloner le repo GIT et lancer un script</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">    git clone --depth<span class="o">=</span><span class="m">1</span> https://github.com/amix/vimrc.git ~/.vim_runtime
</span></span><span class="line"><span class="cl">    sh ~/.vim_runtime/install_awesome_vimrc.sh
</span></span></code></pre></td></tr></table>
</div>
</div>]]></description></item></channel></rss>